<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Introduction | Ship.js</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="Take control of what is going to be your next release.">
    <link rel="preload" href="/shipjs/assets/css/0.styles.5cd109bf.css" as="style"><link rel="preload" href="/shipjs/assets/js/app.56c83ee2.js" as="script"><link rel="preload" href="/shipjs/assets/js/3.d7f36593.js" as="script"><link rel="preload" href="/shipjs/assets/js/4.8e8f925d.js" as="script"><link rel="prefetch" href="/shipjs/assets/js/10.c2d3d241.js"><link rel="prefetch" href="/shipjs/assets/js/11.f44e4411.js"><link rel="prefetch" href="/shipjs/assets/js/12.d705fb41.js"><link rel="prefetch" href="/shipjs/assets/js/13.dfbdba99.js"><link rel="prefetch" href="/shipjs/assets/js/14.175211bb.js"><link rel="prefetch" href="/shipjs/assets/js/5.7a835e31.js"><link rel="prefetch" href="/shipjs/assets/js/6.a4f4ed19.js"><link rel="prefetch" href="/shipjs/assets/js/7.1273006f.js"><link rel="prefetch" href="/shipjs/assets/js/8.dc75f59a.js"><link rel="prefetch" href="/shipjs/assets/js/9.810c3688.js"><link rel="prefetch" href="/shipjs/assets/js/vendors~docsearch.eef66fff.js">
    <link rel="stylesheet" href="/shipjs/assets/css/0.styles.5cd109bf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/shipjs/" class="home-link router-link-active"><!----> <span class="site-name">Ship.js</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/shipjs/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/shipjs/guide/" class="nav-link router-link-exact-active router-link-active">
  Guide
</a></div><div class="nav-item"><a href="https://github.com/algolia/shipjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/shipjs/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/shipjs/guide/" class="nav-link router-link-exact-active router-link-active">
  Guide
</a></div><div class="nav-item"><a href="https://github.com/algolia/shipjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/shipjs/guide/" class="sidebar-heading clickable router-link-exact-active router-link-active open active"><span>Guide</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/shipjs/guide/" class="active sidebar-link">Introduction</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/shipjs/guide/#why-ü§∑üèª‚Äç" class="sidebar-link">Why ü§∑üèª‚Äç</a></li><li class="sidebar-sub-header"><a href="/shipjs/guide/#how-to-solve-them‚ùì" class="sidebar-link">How to solve them‚ùì</a></li><li class="sidebar-sub-header"><a href="/shipjs/guide/#or-a-little-deeper-look-‚ÅâÔ∏è" class="sidebar-link">Or, a little deeper look ‚ÅâÔ∏è</a></li></ul></li><li><a href="/shipjs/guide/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/shipjs/guide/useful-config.html" class="sidebar-link">Useful Configurations</a></li><li><a href="/shipjs/guide/contributing.html" class="sidebar-link">How to Contribute?</a></li><li><a href="/shipjs/guide/community.html" class="sidebar-link">Community</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Reference</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/shipjs/reference/all-config.html" class="sidebar-link">All Configurations</a></li><li><a href="/shipjs/reference/commands.html" class="sidebar-link">Commands</a></li><li><a href="/shipjs/reference/resources.html" class="sidebar-link">Resources</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h1> <h2 id="why-ü§∑üèª‚Äç"><a href="#why-ü§∑üèª‚Äç" class="header-anchor">#</a> Why ü§∑üèª‚Äç</h2> <p>Coding is fun, debugging and testing are okay, but releasing is NOT.</p> <p>When releasing, you go through something like the following:</p> <ul><li>Update the version in <code>package.json</code></li> <li>Update the changelog</li> <li>Actually release it (e.g. <code>npm run build &amp;&amp; npm publish</code>)</li> <li>Create a git tag</li> <li>Create a release on GitHub</li></ul> <h3 id="what-could-go-wrong"><a href="#what-could-go-wrong" class="header-anchor">#</a> What could go wrong?</h3> <ul><li>You might make mistakes during the release.
<ul><li>Environments are different across your team members.</li> <li>You're releasing alone because the whole process happens on your local machine.</li> <li>It's not your everyday-job. Mistakes can happen.</li></ul></li> <li>You are blocked and cannot do anything else until it's done.
<ul><li>Even if you have a release script, you need to watch until the script finishes well.</li> <li>You don't want to switch to another feature branch and work there until the script finishes.</li></ul></li></ul> <h2 id="how-to-solve-them‚ùì"><a href="#how-to-solve-them‚ùì" class="header-anchor">#</a> How to solve them‚ùì</h2> <p>In Ship.js, the release process consists of three parts.</p> <h3 id="part-1-preparation-shipjs-prepare"><a href="#part-1-preparation-shipjs-prepare" class="header-anchor">#</a> Part 1. Preparation (<code>shipjs prepare</code>)</h3> <p><img src="/shipjs/assets/img/preview.5ae0edf3.gif" alt="Preview"></p> <p>Run <code>shipjs prepare</code> and it will briefly do the following:</p> <ul><li>Figure out next version.</li> <li>Update the version and changelog.</li> <li>Create a pull request.</li></ul> <p>It takes less than a couple of minutes.</p> <h3 id="part-2-review"><a href="#part-2-review" class="header-anchor">#</a> Part 2. Review</h3> <ul><li>Review the PR by yourself, or with your colleagues.</li> <li>Add more commits to the PR if you want.</li> <li>You can hold the release, build from the staging branch and test it manually.</li> <li>If you want to cancel the release, just close the PR and delete the staging branch.</li></ul> <p>When you think it's ready to release, merge the PR.</p> <h3 id="part-3-trigger-a-release-shipjs-trigger"><a href="#part-3-trigger-a-release-shipjs-trigger" class="header-anchor">#</a> Part 3. Trigger a release (<code>shipjs trigger</code>)</h3> <p>Run <code>shipjs trigger</code> and it will briefly do the following:</p> <ul><li>Run a final test (unit, e2e, etc).</li> <li>Release it to NPM (or elsewhere as you configure it).</li> <li>Create a git tag for the version.</li> <li>Create a release for the tag on GitHub.</li></ul> <p>You can manually run <code>shipjs trigger</code> on the base branch after the PR is merged.</p> <p>However you can also configure your CI service(e.g. CircleCI) to do this for you. It means the longest process is on the CI service asynchronously, not occupying your working environment.</p> <p class="action"><a href="./getting-started.html" class="nav-link action-button">Get Started ‚Üí</a></p> <h2 id="or-a-little-deeper-look-‚ÅâÔ∏è"><a href="#or-a-little-deeper-look-‚ÅâÔ∏è" class="header-anchor">#</a> Or, a little deeper look ‚ÅâÔ∏è</h2> <p>Let's assume the following situation:</p> <ul><li>Current branch: <code>master</code></li> <li>Currently released version: <code>1.0.0</code></li> <li>Next version: <code>1.0.1</code> (because there are only commits like <code>chore:</code>, <code>fix:</code>, ...)</li></ul> <h3 id="part-1-preparation-shipjs-prepare-2"><a href="#part-1-preparation-shipjs-prepare-2" class="header-anchor">#</a> Part 1. Preparation (<code>shipjs prepare</code>)</h3> <p>On your terminal, run <code>shipjs prepare</code> and it will briefly do the following:</p> <ul><li><code>git checkout -b releases/v1.0.1</code></li> <li>Update the version in <code>package.json</code>.</li> <li>Update the changelog.</li> <li><code>git commit -m &quot;chore: release v1.0.1</code></li> <li>Create a PR from <code>releases/v1.0.1</code> to <code>master</code>.</li></ul> <p>You can run <code>shipjs prepare --dry-run</code> just to see what will be executed without actual execution.</p> <h3 id="part-2-review-2"><a href="#part-2-review-2" class="header-anchor">#</a> Part 2. Review</h3> <p>You will review and merge this PR.</p> <p>You can add more commits to this PR if needed.</p> <p>Merge the PR into a single commit by <code>Squash and merge</code>.</p> <p>You can read <a href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-request-merges#squash-and-merge-your-pull-request-commits" target="_blank" rel="noopener noreferrer">this<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to learn more.</p> <h3 id="part-3-trigger-a-release-shipjs-trigger-2"><a href="#part-3-trigger-a-release-shipjs-trigger-2" class="header-anchor">#</a> Part 3. Trigger a release (<code>shipjs trigger</code>)</h3> <p>On your terminal, <code>git pull</code> on <code>master</code> branch. And run <code>shipjs trigger</code>. It will check the following conditions whether it should proceed releasing or not.</p> <ul><li>if it's <code>master</code> branch now</li> <li>if the latest commit message is like <code>chore: releases v1.0.1 (#xx)</code></li></ul> <p>If the conditions are met, <code>shipjs trigger</code> will briefly do the following:</p> <ul><li>Send a Slack message to notify the beginning of the release(If configured).</li> <li>Run test, build and release it.</li> <li><code>git tag v1.0.1</code>.</li> <li>Push them to git remote.</li> <li><code>hub release create -m &lt;changelog&gt; v1.0.1</code></li> <li>Notify at Slack.</li></ul> <p>You can run <code>shipjs trigger --dry-run</code> just to see what will be executed without actual execution.</p> <p>And you can configure your CI service to run the Part 3 on behalf of you. What you need to do is just to make it run <code>shipjs trigger</code> every time there is a new commit. It's okay to do so because <code>shipjs trigger</code> triggers release only when the conditions are met. If not, it skips.</p> <p class="action"><a href="./getting-started.html" class="nav-link action-button">Get Started ‚Üí</a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/shipjs/guide/getting-started.html">
        Getting Started
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/shipjs/assets/js/app.56c83ee2.js" defer></script><script src="/shipjs/assets/js/3.d7f36593.js" defer></script><script src="/shipjs/assets/js/4.8e8f925d.js" defer></script>
  </body>
</html>
